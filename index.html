<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>‚öîÔ∏è SHOGUN TERMINAL ‚öîÔ∏è</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&family=DotGothic16&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&display=swap');

  :root {
    --primary-color: #ff0000;
    --secondary-color: #ff4d4d;
    --accent-color: #cc0000;
    --dark-bg: #110000;
    --darker-bg: #080000;
    --text-glow: 0 0 5px #ff0000, 0 0 10px #ff0000;
    --neon-shadow: 0 0 5px var(--primary-color), 0 0 10px var(--primary-color);
    --scanline-color: rgba(255, 0, 0, 0.05);
    --terminal-bg: rgba(17, 0, 0, 0.95);
    --grid-line: 1px solid rgba(255, 0, 0, 0.1);
    --text-color: #ffffff;
  }

  * {
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    margin: 0;
    padding: 0;
    height: 100vh;
    width: 100vw;
    background: 
      radial-gradient(circle at center, rgba(255, 0, 0, 0.1) 0%, transparent 70%),
      linear-gradient(to bottom, var(--darker-bg) 0%, var(--dark-bg) 100%);
    overflow: hidden;
    font-family: 'DotGothic16', sans-serif;
    color: var(--text-color);
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: none;
    touch-action: manipulation;
    position: relative;
  }

  /* === BACKGROUND EFFECTS === */
  .japanese-text-flow {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -2;
    overflow: hidden;
  }

  .flowing-text {
    position: absolute;
    font-family: 'Noto Sans JP', sans-serif;
    color: rgba(255, 0, 0, 0.08);
    font-size: 1.5rem;
    white-space: nowrap;
    animation: flowText linear infinite;
    text-shadow: 0 0 5px rgba(255, 0, 0, 0.3);
    user-select: none;
    font-weight: 900;
  }

  @keyframes flowText {
    0% { transform: translateX(100vw); }
    100% { transform: translateX(-100%); }
  }

  .blood-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
      radial-gradient(circle, rgba(255, 0, 0, 0.03) 1px, transparent 1px),
      radial-gradient(circle, rgba(204, 0, 0, 0.03) 1px, transparent 1px);
    background-size: 100px 100px;
    background-position: 0 0, 50px 50px;
    z-index: -1;
    opacity: 0.4;
  }

  .grid-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
      linear-gradient(var(--grid-line) 1px, transparent 1px),
      linear-gradient(90deg, var(--grid-line) 1px, transparent 1px);
    background-size: 40px 40px;
    z-index: -1;
    opacity: 0.3;
  }

  .scanlines {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      to bottom,
      transparent 0%,
      var(--scanline-color) 1px,
      transparent 2px
    );
    background-size: 100% 4px;
    z-index: 0;
    pointer-events: none;
    animation: scanline 6s linear infinite;
  }

  @keyframes scanline {
    0% { background-position: 0 0; }
    100% { background-position: 0 100%; }
  }

  /* === CURSOR === */
  .custom-cursor {
    width: 40px;
    height: 40px;
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="%23ff0000" d="M95,50 L70,45 L50,5 L30,45 L5,50 L30,55 L50,95 L70,55 Z"/></svg>') no-repeat center center/contain;
    position: absolute;
    pointer-events: none;
    z-index: 9999;
    transition: 
      transform 0.1s ease,
      filter 0.2s ease;
    filter: drop-shadow(0 0 8px var(--primary-color)) brightness(1.5);
    display: block;
    mix-blend-mode: screen;
    transform-origin: center;
  }

  /* === START SCREEN === */
  .start-screen {
    position: fixed;
    width: 100%;
    height: 100%;
    background: radial-gradient(ellipse at center, var(--dark-bg) 0%, var(--darker-bg) 100%);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    z-index: 10000;
    animation: fadeIn 1s ease;
    top: 0;
    left: 0;
    border: 4px solid var(--primary-color);
    box-shadow: 0 0 40px var(--primary-color), inset 0 0 30px var(--primary-color);
  }

  .start-text {
    font-size: clamp(1.8rem, 6vw, 3rem);
    color: var(--text-color);
    text-shadow: 0 0 15px var(--primary-color), 0 0 30px var(--primary-color);
    animation: float 3s ease-in-out infinite;
    text-align: center;
    position: relative;
    padding: 0 20px;
    font-weight: 700;
    letter-spacing: 3px;
    font-family: 'Press Start 2P', cursive;
    background: linear-gradient(to right, var(--primary-color), var(--accent-color));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 30px;
  }

  .start-subtext {
    font-size: clamp(1rem, 3.5vw, 1.5rem);
    color: var(--secondary-color);
    margin-top: 15px;
    text-align: center;
    opacity: 0.9;
    animation: fadeInOut 4s infinite;
    text-shadow: 0 0 8px var(--secondary-color);
    letter-spacing: 2px;
    max-width: 80%;
    line-height: 1.5;
  }

  @keyframes fadeInOut {
    0% { opacity: 0.7; }
    50% { opacity: 1; }
    100% { opacity: 0.7; }
  }

  /* === MAIN CARD === */
  .card {
    background: var(--terminal-bg);
    border: 3px solid var(--primary-color);
    border-radius: 0;
    padding: clamp(25px, 6vw, 40px);
    box-shadow: 0 0 40px var(--primary-color), inset 0 0 15px var(--primary-color);
    text-align: center;
    z-index: 2;
    display: none;
    width: 96%;
    max-width: 650px;
    position: relative;
    margin: 20px;
    backdrop-filter: blur(8px);
    overflow: hidden;
    font-family: 'DotGothic16', sans-serif;
    transform-style: preserve-3d;
    perspective: 1000px;
  }

  .card::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
      to bottom right,
      transparent 45%,
      var(--secondary-color) 50%,
      transparent 55%
    );
    opacity: 0.15;
    animation: shine 8s linear infinite;
  }

  @keyframes shine {
    0% { transform: rotate(0deg) translate(-25%, -25%); }
    100% { transform: rotate(360deg) translate(-25%, -25%); }
  }

  .card h1 {
    font-size: clamp(1.8rem, 6vw, 2.5rem);
    margin-bottom: 25px;
    color: var(--text-color);
    text-shadow: 0 0 15px var(--primary-color);
    position: relative;
    letter-spacing: 2px;
    font-family: 'Press Start 2P', cursive;
    transform: translateZ(30px);
  }

  .card h1::after {
    content: '';
    display: block;
    width: 60%;
    height: 4px;
    background: linear-gradient(to right, transparent, var(--secondary-color), transparent);
    margin: 15px auto;
    opacity: 0.8;
  }

  /* === PROFILE PHOTO === */
  .photo-container {
    position: relative;
    width: clamp(140px, 35vw, 200px);
    height: clamp(140px, 35vw, 200px);
    margin: 0 auto 30px;
    transform-style: preserve-3d;
    perspective: 1000px;
  }

  .photo {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: url('https://i.imgur.com/JYw7F4A.png') no-repeat center center/cover;
    box-shadow: 0 0 25px var(--primary-color), inset 0 0 15px var(--primary-color);
    border: 4px solid var(--primary-color);
    position: relative;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    transform: translateZ(20px);
  }

  .photo:hover {
    transform: translateZ(20px) scale(1.08);
    box-shadow: 0 0 40px var(--accent-color), inset 0 0 20px var(--accent-color);
  }

  .photo::before {
    content: '';
    position: absolute;
    top: -8px;
    left: -8px;
    right: -8px;
    bottom: -8px;
    border: 3px dashed var(--secondary-color);
    border-radius: 50%;
    animation: rotate 15s linear infinite;
    opacity: 0.8;
    z-index: -1;
  }

  .photo::after {
    content: '';
    position: absolute;
    top: -12px;
    left: -12px;
    right: -12px;
    bottom: -12px;
    border: 2px solid rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    animation: rotateReverse 20s linear infinite;
    z-index: -2;
  }

  @keyframes rotate {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  @keyframes rotateReverse {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(-360deg); }
  }

  /* === SOCIAL ICONS === */
  .social-icons {
    margin-top: 30px;
    display: flex;
    justify-content: center;
    gap: clamp(20px, 6vw, 35px);
    width: 100%;
    margin-left: auto;
    margin-right: auto;
    flex-wrap: wrap;
  }

  .social-icons a {
    cursor: none;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    width: clamp(50px, 10vw, 65px);
    height: clamp(50px, 10vw, 65px);
    border-radius: 50%;
    background: rgba(255, 0, 0, 0.25);
    transform: translateZ(15px);
  }

  .social-icons a::before {
    content: '';
    position: absolute;
    top: -6px;
    left: -6px;
    right: -6px;
    bottom: -6px;
    border: 2px solid var(--secondary-color);
    border-radius: 50%;
    opacity: 0;
    transition: all 0.4s ease;
    box-shadow: 0 0 15px var(--secondary-color);
  }

  .social-icons a:hover {
    transform: translateZ(15px) scale(1.15);
    background: rgba(255, 0, 0, 0.4);
  }

  .social-icons a:hover::before {
    opacity: 1;
    transform: scale(1.1);
  }

  .social-icons a img {
    width: 60%;
    height: 60%;
    filter: drop-shadow(0 0 8px var(--primary-color));
    transition: all 0.3s ease;
  }

  .social-icons a:hover img {
    transform: scale(1.15);
    filter: drop-shadow(0 0 15px var(--secondary-color)) brightness(1.2);
  }

  /* === FPS COUNTER === */
  .fps {
    position: fixed;
    top: 15px;
    left: 15px;
    background: rgba(17, 0, 0, 0.8);
    color: var(--secondary-color);
    padding: 8px 15px;
    border-radius: 0;
    font-size: 0.9rem;
    z-index: 1000;
    box-shadow: 0 0 8px var(--secondary-color);
    font-family: 'Press Start 2P', cursive;
    border: 2px solid var(--secondary-color);
    text-shadow: 0 0 5px var(--secondary-color);
  }

  /* === MUSIC PLAYER === */
  .music-player {
    position: fixed;
    bottom: 25px;
    left: 25px;
    background: rgba(17, 0, 0, 0.8);
    border: 2px solid var(--primary-color);
    border-radius: 0;
    padding: 12px 18px;
    box-shadow: 0 0 15px var(--primary-color);
    z-index: 1000;
    display: flex;
    align-items: center;
    gap: 15px;
    backdrop-filter: blur(8px);
    transition: all 0.4s ease;
    font-family: 'Press Start 2P', cursive;
  }

  .music-player:hover {
    box-shadow: 0 0 25px var(--accent-color);
    border-color: var(--secondary-color);
    transform: translateY(-3px);
  }

  .music-controls {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .music-btn {
    background: none;
    border: none;
    color: var(--primary-color);
    font-size: 20px;
    cursor: none;
    text-shadow: 0 0 8px var(--primary-color);
    transition: all 0.3s ease;
    padding: 6px;
    border-radius: 0;
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .music-btn:hover {
    color: var(--secondary-color);
    text-shadow: 0 0 15px var(--secondary-color);
    transform: scale(1.1);
  }

  .volume-control {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .volume-slider {
    width: 90px;
    -webkit-appearance: none;
    height: 6px;
    background: rgba(255, 0, 0, 0.3);
    border-radius: 0;
    outline: none;
    cursor: none;
    transition: all 0.3s ease;
  }

  .volume-slider:hover {
    background: rgba(255, 0, 0, 0.4);
  }

  .volume-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    background: var(--primary-color);
    border-radius: 50%;
    cursor: none;
    box-shadow: 0 0 8px var(--primary-color);
    transition: all 0.2s ease;
    border: 2px solid var(--text-color);
  }

  .volume-slider::-webkit-slider-thumb:hover {
    background: var(--secondary-color);
    transform: scale(1.2);
    box-shadow: 0 0 12px var(--secondary-color);
  }

  .music-title {
    font-size: 14px;
    color: var(--secondary-color);
    text-shadow: 0 0 8px var(--secondary-color);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 180px;
    letter-spacing: 1px;
  }

  /* === BLOOD DROPS === */
  .blood-drops {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
  }

  .blood-drop {
    position: absolute;
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="%23ff0000" d="M50 0Q60 30 70 50Q80 70 50 100Q20 70 30 50Q40 30 50 0Z"/></svg>') no-repeat center center/contain;
    animation: float-blood linear infinite;
    filter: drop-shadow(0 0 3px var(--primary-color));
    opacity: 0.8;
  }

  @keyframes float-blood {
    0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0; }
    10% { opacity: 0.8; }
    90% { opacity: 0.8; }
    100% { transform: translateY(-100vh) translateX(20px) rotate(360deg); opacity: 0; }
  }

  /* === BLINKING CURSOR === */
  .blinking-cursor {
    display: inline-block;
    width: 12px;
    height: 24px;
    background: var(--primary-color);
    margin-left: 8px;
    animation: blink 1s infinite steps(1);
    vertical-align: middle;
    border-radius: 0;
    box-shadow: 0 0 8px var(--primary-color);
    transform: translateY(3px);
  }

  @keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
  }

  /* === SAMURAI BUTTON === */
  .samurai-button {
    position: relative;
    background: transparent;
    border: 3px solid var(--primary-color);
    color: var(--text-color);
    padding: 15px 30px;
    font-family: 'Press Start 2P', cursive;
    text-transform: uppercase;
    letter-spacing: 3px;
    cursor: none;
    overflow: hidden;
    margin-top: 30px;
    text-shadow: 0 0 8px var(--primary-color);
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    border-radius: 0;
    box-shadow: 0 0 15px var(--primary-color), inset 0 0 8px var(--primary-color);
    transform: translateZ(20px);
  }

  .samurai-button::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 0, 0, 0.4), transparent);
    transition: all 0.6s ease;
  }

  .samurai-button:hover::before {
    left: 100%;
  }

  .samurai-button:hover {
    color: var(--secondary-color);
    text-shadow: 0 0 15px var(--secondary-color);
    box-shadow: 0 0 30px var(--accent-color), inset 0 0 15px var(--accent-color);
    border-color: var(--secondary-color);
    transform: translateZ(20px) translateY(-3px);
  }

  .samurai-button:active {
    transform: translateZ(20px) translateY(1px);
  }

  .samurai-button.active {
    color: var(--secondary-color);
    box-shadow: 0 0 25px var(--secondary-color), inset 0 0 10px var(--secondary-color);
    border-color: var(--secondary-color);
    animation: pulseGlow 2s infinite;
  }

  .samurai-button.active::after {
    content: '‚öî';
    position: absolute;
    right: -20px;
    top: 50%;
    transform: translateY(-50%);
    animation: pulse 1.5s infinite;
  }

  @keyframes pulseGlow {
    0%, 100% { box-shadow: 0 0 25px var(--secondary-color), inset 0 0 10px var(--secondary-color); }
    50% { box-shadow: 0 0 40px var(--secondary-color), inset 0 0 15px var(--secondary-color); }
  }

  /* === KATANA DECORATION === */
  .katana {
    position: absolute;
    width: 120px;
    height: 350px;
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 350"><rect x="50" y="0" width="20" height="350" fill="%23ff0000"/><rect x="45" y="320" width="30" height="30" fill="%23cc0000"/></svg>') no-repeat center center/contain;
    pointer-events: none;
    z-index: -1;
    filter: drop-shadow(0 0 8px var(--primary-color));
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }

  /* === BATTLE MODE EFFECTS === */
  .battle-mode-effects {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.8s ease;
  }

  .battle-mode-effects.active {
    opacity: 1;
  }

  .battle-scanline {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      to bottom,
      transparent 0%,
      rgba(255, 0, 0, 0.15) 2px,
      transparent 4px
    );
    background-size: 100% 8px;
    animation: battleScanline 0.3s linear infinite;
  }

  @keyframes battleScanline {
    0% { background-position: 0 0; }
    100% { background-position: 0 16px; }
  }

  .battle-pulse {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle, transparent 0%, rgba(255, 0, 0, 0.1) 100%);
    animation: battlePulse 1.5s infinite;
  }

  @keyframes battlePulse {
    0% { transform: scale(1); opacity: 0; }
    50% { opacity: 0.4; }
    100% { transform: scale(1.5); opacity: 0; }
  }

  .battle-glitch {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"><pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse"><rect width="40" height="40" fill="transparent"/><path d="M 40 0 L 0 0 0 40" fill="none" stroke="rgba(255,0,0,0.1)" stroke-width="1"/></pattern><rect width="100%" height="100%" fill="url(%23grid)"/></svg>');
    animation: glitch 0.5s infinite steps(1);
    opacity: 0.3;
  }

  @keyframes glitch {
    0% { transform: translate(0); }
    20% { transform: translate(-2px, 2px); }
    40% { transform: translate(-2px, -2px); }
    60% { transform: translate(2px, 2px); }
    80% { transform: translate(2px, -2px); }
    100% { transform: translate(0); }
  }

  /* === TERMINAL TEXT === */
  .terminal-text {
    text-align: left;
    margin: 25px auto;
    max-width: 85%;
    font-size: 1rem;
    line-height: 1.6;
    color: var(--secondary-color);
    text-shadow: 0 0 5px var(--secondary-color);
    border-left: 3px solid var(--primary-color);
    padding-left: 20px;
    transform: translateZ(15px);
  }

  .terminal-text span {
    display: inline-block;
    opacity: 0;
    animation: fadeIn 0.5s forwards;
  }

  @keyframes fadeIn {
    to { opacity: 1; }
  }

  /* === MOBILE ADJUSTMENTS === */
  @media (hover: none) {
    .custom-cursor {
      display: none;
    }
    body {
      cursor: default;
    }
    .social-icons a {
      transform: translateZ(15px) scale(1.1);
    }
    .music-player {
      padding: 10px 15px;
      bottom: 20px;
      left: 20px;
    }
    .music-btn {
      font-size: 22px;
    }
  }

  @media (orientation: portrait) {
    .card {
      max-width: 92%;
      padding: 20px;
    }
    .social-icons {
      gap: 15px;
    }
    .music-player {
      flex-direction: column;
      align-items: flex-start;
      width: auto;
    }
    .start-text {
      font-size: clamp(1.5rem, 7vw, 2.5rem);
    }
  }
</style>
</head>
<body>

<audio id="bgMusic" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>

<audio id="battleMusic" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg">
</audio>

<div class="japanese-text-flow" id="japaneseTextFlow"></div>
<div class="blood-overlay"></div>
<div class="grid-overlay"></div>
<div class="scanlines"></div>
<div class="blood-drops" id="bloodDrops"></div>
<div class="battle-mode-effects" id="battleModeEffects">
  <div class="battle-scanline"></div>
  <div class="battle-pulse" style="animation-delay: 0.3s;"></div>
  <div class="battle-glitch"></div>
</div>

<!-- Katana decorations -->
<div class="katana" style="top: 12%; left: 8%; transform: rotate(15deg);"></div>
<div class="katana" style="bottom: 12%; right: 8%; transform: rotate(-15deg);"></div>

<div class="custom-cursor" id="cursor"></div>
<div class="fps" id="fpsCounter">FPS: --</div>

<div class="start-screen" id="startScreen">
  <div class="kanji" style="top: 22%; left: 22%;">Ê≠¶</div>
  <div class="kanji" style="bottom: 22%; right: 22%;">ÈÅì</div>
  
  <div class="start-text">SHOGUN TERMINAL</div>
  <div class="start-subtext">[ THE WAY OF THE WARRIOR ]</div>
  <div class="start-subtext">PRESS ENTER OR TAP TO BEGIN</div>
  
  <!-- Blood splatter effects -->
  <div class="blood-drop" style="
    width: 80px; height: 80px;
    top: 30%; left: 25%;
    animation: float-blood 15s linear infinite;
    animation-delay: 2s;
  "></div>
  <div class="blood-drop" style="
    width: 60px; height: 60px;
    top: 70%; left: 75%;
    animation: float-blood 18s linear infinite;
    animation-delay: 5s;
  "></div>
</div>

<div class="music-player" id="musicPlayer">
  <div class="music-title" id="musicTitle">BGM: Standby</div>
  <div class="music-controls">
    <button class="music-btn" id="playPauseBtn">‚ñ∂</button>
    <div class="volume-control">
      <button class="music-btn" id="muteBtn">üîä</button>
      <input type="range" min="0" max="1" step="0.01" value="0.5" class="volume-slider" id="volumeSlider">
    </div>
  </div>
</div>

<div class="card" id="mainCard" tabindex="0">
  <h1>WARRIOR STATUS<span class="blinking-cursor"></span></h1>
  
  <div class="photo-container">
    <div class="photo"></div>
  </div>
  
  <div class="terminal-text" id="terminalText"></div>
  
  <div class="social-icons">
    <a href="https://discord.com/channels/1161803566265143306" target="_blank" rel="noopener noreferrer">
      <img src="https://cdn-icons-png.flaticon.com/512/2111/2111370.png" alt="Discord">
    </a>
    <a href="https://www.instagram.com/saber.ai.6573?utm_source=ig_web_button_share_sheet&igsh=YzRlc3ZvaHNrcGVx" target="_blank" rel="noopener noreferrer">
      <img src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" alt="Instagram">
    </a>
    <a href="https://everythingmoe.com/" target="_blank" rel="noopener noreferrer">
      <img src="https://cdn-icons-png.flaticon.com/512/1384/1384060.png" alt="YouTube">
    </a>
    <a href="https://anilist.co/user/Saber6573/" target="_blank" rel="noopener noreferrer">
      <img src="https://ik.imagekit.io/Saber/AniList_logo.svg.png?updatedAt=1752240661687" alt="Anilist">
    </a>
  </div>
  
  <button class="samurai-button" id="battleModeBtn">‚öî ENGAGE BATTLE MODE ‚öî</button>
</div>

<script>
// ========== CURSOR ==========
const cursor = document.getElementById('cursor');
let cursorX = 0;
let cursorY = 0;
let cursorTrail = [];

// Create cursor trail elements
for (let i = 0; i < 5; i++) {
  const trail = document.createElement('div');
  trail.className = 'custom-cursor';
  trail.style.position = 'fixed';
  trail.style.width = `${40 - i * 6}px`;
  trail.style.height = `${40 - i * 6}px`;
  trail.style.opacity = 1 - i * 0.2;
  trail.style.zIndex = '9998';
  trail.style.pointerEvents = 'none';
  trail.style.display = 'none';
  document.body.appendChild(trail);
  cursorTrail.push({
    element: trail,
    x: 0,
    y: 0,
    delay: (i + 1) * 50
  });
}

// Detect touch devices
const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;

// Hide cursor on touch devices
if (isTouchDevice) {
  cursor.style.display = 'none';
  cursorTrail.forEach(trail => trail.element.style.display = 'none');
  document.body.style.cursor = 'default';
}

// Mouse move handler
document.addEventListener('mousemove', e => {
  if (!isTouchDevice) {
    cursorX = e.pageX;
    cursorY = e.pageY;
    cursor.style.left = `${cursorX - 20}px`;
    cursor.style.top = `${cursorY - 20}px`;
    
    // Add rotation effect based on movement speed
    const rotation = e.movementX * 3;
    cursor.style.transform = `rotate(${rotation}deg)`;
    
    // Update trail positions with delay
    cursorTrail.forEach((trail, index) => {
      setTimeout(() => {
        trail.x = cursorX - (20 - index * 4);
        trail.y = cursorY - (20 - index * 4);
        trail.element.style.left = `${trail.x}px`;
        trail.element.style.top = `${trail.y}px`;
        trail.element.style.transform = `rotate(${rotation * (1 - index * 0.2)}deg)`;
      }, trail.delay);
    });
  }
});

// ========== BACKGROUND EFFECTS ==========
// Create flowing Japanese text
function createFlowingText() {
  const container = document.getElementById('japaneseTextFlow');
  const warriorTexts = [
    "‰æç Ê≠¶Â£´ ÂàÄ Êà¶„ÅÑ ÂãáÊ∞ó ÂêçË™â Âø†Áæ© Ââ£Ë°ì Ê≠¶ÈÅì ‰øÆÁ∑¥ Á≤æÁ•û Ë¶öÊÇü Ê≠ªÁîü ÊµÅÊ¥æ ÂÖµÊ≥ï Êà¶Áï• Èóò‰∫â ÂãùÂà© ÊïóÂåó ‰øÆÁæÖ",
    "Êñ¨„Çã ÊíÉ„Å§ ÂÆà„Çã ÈÄ≤„ÇÄ ÈÄÄ„Åè ÈñÉ„Åè Ë¶≥„Çã Êîª„ÇÅ„Çã ËÄê„Åà„Çã Èçõ„Åà„Çã Á£®„Åè Ê•µ„ÇÅ„Çã ÊÇü„Çã Ë∂Ö„Åà„Çã Êòá„Çã Èôç„Çã ÁáÉ„Åà„Çã Âáç„Çã Á†ï„Åè Ë≤´„Åè",
    "Êúà„Å´Âè¢Èõ≤ Ëä±„Å´È¢® Ê≠¶Â£´„Å´‰∫åË®Ä„Å™„Åó ‰∏ÉËª¢„Å≥ÂÖ´Ëµ∑„Åç Áü≥„ÅÆ‰∏ä„Å´„ÇÇ‰∏âÂπ¥ ËôéÁ©¥„Å´ÂÖ•„Çâ„Åö„Çì„Å∞ËôéÂ≠ê„ÇíÂæó„Åö",
    "ÁîüÊ≠ª‰∏ÄÂ¶Ç Ë´∏Ë°åÁÑ°Â∏∏ ‰∏áÊ≥ïÂîØË≠ò Ëâ≤Âç≥ÊòØÁ©∫ Á©∫Âç≥ÊòØËâ≤ Âõ†ÊûúÂøúÂ†± Ëá™Ê•≠Ëá™Âæó",
    "‰∏ÄÊíÉÂøÖÊÆ∫ ÂçÉ‰∏°ÂΩπËÄÖ ÁôæËä±Áπö‰π± ÈõªÂÖâÁü≥ÁÅ´ È¢®ÊûóÁÅ´Â±± ÁñæÈ¢®ËøÖÈõ∑ ÁçÖÂ≠êÂ•ÆËøÖ"
  ];
  
  for (let i = 0; i < 20; i++) {
    const text = document.createElement('div');
    text.className = 'flowing-text';
    text.textContent = warriorTexts[Math.floor(Math.random() * warriorTexts.length)];
    
    // Random properties
    const size = Math.random() * 0.8 + 1.2;
    const posY = Math.random() * window.innerHeight;
    const duration = Math.random() * 80 + 120;
    const delay = Math.random() * 60;
    const opacity = Math.random() * 0.1 + 0.05;
    
    text.style.fontSize = `${size}rem`;
    text.style.top = `${posY}px`;
    text.style.animationDuration = `${duration}s`;
    text.style.animationDelay = `-${delay}s`;
    text.style.opacity = opacity;
    
    container.appendChild(text);
  }
}

// Create blood drops
function createBloodDrops() {
  const dropsContainer = document.getElementById('bloodDrops');
  dropsContainer.innerHTML = '';
  
  for (let i = 0; i < 25; i++) {
    const drop = document.createElement('div');
    drop.className = 'blood-drop';
    
    // Random properties
    const size = Math.random() * 30 + 15;
    const posX = Math.random() * window.innerWidth;
    const posY = Math.random() * window.innerHeight;
    const duration = Math.random() * 20 + 15;
    const delay = Math.random() * 10;
    
    drop.style.width = `${size}px`;
    drop.style.height = `${size}px`;
    drop.style.left = `${posX}px`;
    drop.style.top = `${posY}px`;
    drop.style.animationDuration = `${duration}s`;
    drop.style.animationDelay = `${delay}s`;
    
    // Random rotation
    drop.style.transform = `rotate(${Math.random() * 360}deg)`;
    
    dropsContainer.appendChild(drop);
  }
}

// ========== INTERACTION EFFECTS ==========
// Create blood slash effect
function createBloodSlash(x, y) {
  const slash = document.createElement('div');
  slash.style.position = 'absolute';
  slash.style.left = `${x - 60}px`;
  slash.style.top = `${y - 60}px`;
  slash.style.width = '120px';
  slash.style.height = '120px';
  slash.style.background = `url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120"><path fill="%23ff0000" d="M10,10 L110,110 M110,10 L10,110" stroke="%23ff0000" stroke-width="6"/></svg>') no-repeat center center/contain`;
  slash.style.pointerEvents = 'none';
  slash.style.opacity = '0.9';
  slash.style.transition = 'all 0.8s ease-out';
  slash.style.zIndex = '9997';
  slash.style.filter = 'drop-shadow(0 0 8px #ff0000)';
  document.body.appendChild(slash);
  
  setTimeout(() => {
    slash.style.transform = 'scale(1.8)';
    slash.style.opacity = '0';
  }, 10);
  
  setTimeout(() => document.body.removeChild(slash), 800);
  
  // Create smaller blood particles
  for (let i = 0; i < 12; i++) {
    setTimeout(() => {
      createBloodParticle(x, y);
    }, i * 40);
  }
}

function createBloodParticle(x, y) {
  const particle = document.createElement('div');
  particle.style.position = 'absolute';
  particle.style.left = `${x - 3}px`;
  particle.style.top = `${y - 3}px`;
  particle.style.width = '6px';
  particle.style.height = '6px';
  particle.style.background = 'var(--primary-color)';
  particle.style.pointerEvents = 'none';
  particle.style.opacity = '1';
  particle.style.zIndex = '9997';
  particle.style.borderRadius = '50%';
  particle.style.filter = 'blur(1px)';
  document.body.appendChild(particle);
  
  const angle = Math.random() * Math.PI * 2;
  const distance = Math.random() * 60 + 40;
  const duration = Math.random() * 0.6 + 0.4;
  
  const animation = particle.animate([
    { transform: `translate(0, 0)`, opacity: 1 },
    { transform: `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px)`, opacity: 0 }
  ], {
    duration: duration * 1000,
    easing: 'cubic-bezier(0.4, 0, 0.2, 1)'
  });
  
  animation.onfinish = () => {
    document.body.removeChild(particle);
  };
}

// Click/touch handler with blood slash effect
function handleInteraction(e) {
  const x = e.pageX || (e.touches && e.touches[0].pageX) || 0;
  const y = e.pageY || (e.touches && e.touches[0].pageY) || 0;
  createBloodSlash(x, y);
  
  // Create a temporary effect on the cursor
  if (!isTouchDevice) {
    cursor.style.transform = 'scale(1.8) rotate(45deg)';
    cursor.style.filter = 'drop-shadow(0 0 15px white) brightness(2)';
    setTimeout(() => {
      cursor.style.transform = 'scale(1) rotate(0deg)';
      cursor.style.filter = 'drop-shadow(0 0 8px var(--primary-color)) brightness(1.5)';
    }, 300);
  }
}

document.addEventListener('click', handleInteraction);
document.addEventListener('touchstart', handleInteraction);

// ========== PERFORMANCE MONITOR ==========
let lastFrame = performance.now();
let frameCount = 0;
let fpsCounter = document.getElementById('fpsCounter');
let fpsHistory = [];
const maxFpsHistory = 10;

function updateFPS() {
  const now = performance.now();
  frameCount++;
  
  if (now - lastFrame >= 1000) {
    const fps = frameCount;
    fpsHistory.push(fps);
    if (fpsHistory.length > maxFpsHistory) {
      fpsHistory.shift();
    }
    
    const avgFps = Math.round(fpsHistory.reduce((a, b) => a + b, 0) / fpsHistory.length);
    
    fpsCounter.textContent = `FPS: ${fps} | AVG: ${avgFps}`;
    fpsCounter.style.color = fps >= 50 ? 
      getComputedStyle(document.documentElement).getPropertyValue('--secondary-color') : 
      fps >= 30 ? 
      getComputedStyle(document.documentElement).getPropertyValue('--primary-color') : 
      '#ff0000';
    
    frameCount = 0;
    lastFrame = now;
  }
  
  requestAnimationFrame(updateFPS);
}
updateFPS();

// ========== MUSIC PLAYER ==========
const bgMusic = document.getElementById('bgMusic');
const battleMusic = document.getElementById('battleMusic');
const playPauseBtn = document.getElementById('playPauseBtn');
const muteBtn = document.getElementById('muteBtn');
const volumeSlider = document.getElementById('volumeSlider');
const musicPlayer = document.getElementById('musicPlayer');
const musicTitle = document.getElementById('musicTitle');

// Set initial volume
bgMusic.volume = volumeSlider.value;
battleMusic.volume = volumeSlider.value;

// Play/Pause button
playPauseBtn.addEventListener('click', () => {
  const currentMusic = battleModeActive ? battleMusic : bgMusic;
  
  if (currentMusic.paused) {
    currentMusic.play()
      .then(() => {
        playPauseBtn.textContent = '‚ùö‚ùö';
        musicTitle.textContent = battleModeActive ? 'BGM: BATTLE MODE' : 'BGM: Playing';
        musicTitle.style.color = getComputedStyle(document.documentElement).getPropertyValue('--secondary-color');
      })
      .catch(e => {
        console.log('Autoplay prevented, please interact to play');
        musicTitle.textContent = 'BGM: Tap to play';
      });
  } else {
    currentMusic.pause();
    playPauseBtn.textContent = '‚ñ∂';
    musicTitle.textContent = 'BGM: Standby';
    musicTitle.style.color = getComputedStyle(document.documentElement).getPropertyValue('--primary-color');
  }
});

// Mute button
muteBtn.addEventListener('click', () => {
  bgMusic.muted = !bgMusic.muted;
  battleMusic.muted = bgMusic.muted;
  muteBtn.textContent = bgMusic.muted ? 'üîá' : 'üîä';
  musicTitle.textContent = bgMusic.muted ? 
    'BGM: Muted' : 
    (bgMusic.paused && battleMusic.paused) ? 
    'BGM: Standby' : 
    (battleModeActive ? 'BGM: BATTLE MODE' : 'BGM: Playing');
});

// Volume slider
volumeSlider.addEventListener('input', () => {
  const volume = volumeSlider.value;
  bgMusic.volume = volume;
  battleMusic.volume = volume;
  bgMusic.muted = false;
  battleMusic.muted = false;
  muteBtn.textContent = 'üîä';
  
  // Visual feedback
  volumeSlider.style.background = `linear-gradient(to right, 
    ${getComputedStyle(document.documentElement).getPropertyValue('--primary-color')} 0%, 
    ${getComputedStyle(document.documentElement).getPropertyValue('--primary-color')} ${volume * 100}%, 
    rgba(255, 0, 0, 0.3) ${volume * 100}%, 
    rgba(255, 0, 0, 0.3) 100%)`;
});

// ========== INTERACTIVE ELEMENTS ==========
const interactiveElements = document.querySelectorAll('a, button, input, .music-btn, .social-icons a');
interactiveElements.forEach(el => {
  el.addEventListener('mouseenter', () => {
    if (!isTouchDevice) {
      cursor.style.transform = 'scale(1.8) rotate(45deg)';
      cursor.style.filter = 'drop-shadow(0 0 15px var(--secondary-color)) brightness(2)';
      
      // Show cursor trail if not touch device
      cursorTrail.forEach(trail => trail.element.style.display = 'block');
    }
  });
  
  el.addEventListener('mouseleave', () => {
    if (!isTouchDevice) {
      cursor.style.transform = 'scale(1) rotate(0deg)';
      cursor.style.filter = 'drop-shadow(0 0 8px var(--primary-color)) brightness(1.5)';
    }
  });
});

// ========== BATTLE MODE ==========
let battleModeActive = false;
const battleModeBtn = document.getElementById('battleModeBtn');
const terminalText = document.getElementById('terminalText');
const battleModeEffects = document.getElementById('battleModeEffects');

// Typewriter effect for terminal text
function typeTerminalText(text, speed = 40) {
  terminalText.innerHTML = '';
  const lines = text.split('<br>');
  let lineIndex = 0;
  let charIndex = 0;
  
  function type() {
    if (lineIndex < lines.length) {
      if (charIndex < lines[lineIndex].length) {
        const char = document.createTextNode(lines[lineIndex][charIndex]);
        const span = document.createElement('span');
        span.appendChild(char);
        terminalText.appendChild(span);
        
        // Animate the new character
        span.style.animation = `fadeIn 0.1s forwards`;
        span.style.animationDelay = `${charIndex * 0.02}s`;
        
        charIndex++;
        setTimeout(type, speed);
      } else {
        // Move to next line
        terminalText.appendChild(document.createElement('br'));
        lineIndex++;
        charIndex = 0;
        setTimeout(type, speed * 2);
      }
    }
  }
  
  type();
}

function toggleBattleMode() {
  battleModeActive = !battleModeActive;
  
  if (battleModeActive) {
    // Activate battle mode
    battleModeBtn.classList.add('active');
    battleModeBtn.textContent = '‚öî BATTLE ENGAGED ‚öî';
    document.body.style.background = `linear-gradient(to bottom, #400000 0%, #180000 100%)`;
    document.querySelector('.blood-overlay').style.opacity = '0.6';
    battleModeEffects.classList.add('active');
    
    // Change terminal text
    typeTerminalText(
      "> BATTLE MODE ACTIVATED<br>" +
      "> COMBAT SYSTEMS ONLINE<br>" +
      "> ADRENALINE INJECTION COMPLETE<br>" +
      "> LETHAL FORCE AUTHORIZED<br>" +
      "> ÊÆ∫ÊàÆ„É¢„Éº„ÉâËµ∑Âãï", 
      30
    );
    
    // Switch to battle music
    bgMusic.pause();
    battleMusic.currentTime = 0;
    battleMusic.play().catch(e => console.log('Autoplay prevented'));
    playPauseBtn.textContent = '‚ùö‚ùö';
    musicTitle.textContent = 'BGM: BATTLE MODE';
    musicTitle.style.color = getComputedStyle(document.documentElement).getPropertyValue('--secondary-color');
    
    // Intensify blood drops
    const bloodDrops = document.querySelectorAll('.blood-drop');
    bloodDrops.forEach(drop => {
      drop.style.animationDuration = `${Math.random() * 5 + 5}s`;
      drop.style.filter = 'drop-shadow(0 0 5px var(--primary-color)) brightness(1.5)';
    });
    
    // Add more blood drops
    for (let i = 0; i < 15; i++) {
      setTimeout(() => {
        const drop = document.createElement('div');
        drop.className = 'blood-drop';
        drop.style.width = `${Math.random() * 40 + 20}px`;
        drop.style.height = drop.style.width;
        drop.style.left = `${Math.random() * window.innerWidth}px`;
        drop.style.top = `${Math.random() * window.innerHeight}px`;
        drop.style.animationDuration = `${Math.random() * 8 + 6}s`;
        drop.style.animationDelay = `${Math.random() * 5}s`;
        drop.style.transform = `rotate(${Math.random() * 360}deg)`;
        drop.style.filter = 'drop-shadow(0 0 5px var(--primary-color)) brightness(1.5)';
        document.getElementById('bloodDrops').appendChild(drop);
      }, i * 200);
    }
  } else {
    // Deactivate battle mode
    battleModeBtn.classList.remove('active');
    battleModeBtn.textContent = '‚öî ENGAGE BATTLE MODE ‚öî';
    document.body.style.background = `linear-gradient(to bottom, var(--darker-bg) 0%, var(--dark-bg) 100%)`;
    document.querySelector('.blood-overlay').style.opacity = '0.4';
    battleModeEffects.classList.remove('active');
    
    // Change terminal text
    typeTerminalText(
      "> Combat systems standby<br>" +
      "> Adrenaline levels normalized<br>" +
      "> Warrior status: vigilant<br>" +
      "> Ready for commands", 
      40
    );
    
    // Switch back to normal music
    battleMusic.pause();
    bgMusic.currentTime = 0;
    bgMusic.play().catch(e => console.log('Autoplay prevented'));
    playPauseBtn.textContent = '‚ùö‚ùö';
    musicTitle.textContent = 'BGM: Playing';
    musicTitle.style.color = getComputedStyle(document.documentElement).getPropertyValue('--secondary-color');
    
    // Reset blood drops
    const bloodDrops = document.querySelectorAll('.blood-drop');
    bloodDrops.forEach(drop => {
      drop.style.animationDuration = `${Math.random() * 15 + 10}s`;
      drop.style.filter = 'drop-shadow(0 0 3px var(--primary-color))';
    });
  }
}

// ========== START EXPERIENCE ==========
function startExperience() {
  const startScreen = document.getElementById('startScreen');
  startScreen.style.animation = 'none';
  void startScreen.offsetWidth; // Trigger reflow
  startScreen.style.animation = 'fadeIn 0.5s ease';
  
  // Create effects
  createFlowingText();
  createBloodDrops();
  
  // Add transition effect
  setTimeout(() => {
    startScreen.style.opacity = '0';
    
    setTimeout(() => {
      startScreen.style.display = 'none';
      const mainCard = document.getElementById('mainCard');
      mainCard.style.display = 'block';
      
      // Start music automatically
      bgMusic.play().catch(e => {
        console.log('Autoplay prevented, please interact to play');
        musicTitle.textContent = 'BGM: Tap to play';
      });
      playPauseBtn.textContent = '‚ùö‚ùö';
      musicTitle.textContent = 'BGM: Playing';
      musicTitle.style.color = getComputedStyle(document.documentElement).getPropertyValue('--secondary-color');
      
      // Type terminal text
      typeTerminalText(
        "> System initialization complete<br>" +
        "> Warrior spirit detected<br>" +
        "> Battle readiness: 100%<br>" +
        "> Honor code: active<br>" +
        "> Mission: undefined"
      );
      
      mainCard.focus();
      
      // Show cursor trail if not touch device
      if (!isTouchDevice) {
        cursorTrail.forEach(trail => trail.element.style.display = 'block');
      }
    }, 500);
  }, 300);
}

// ========== EVENT LISTENERS ==========
battleModeBtn.addEventListener('click', toggleBattleMode);

window.addEventListener('keydown', e => {
  if(e.key === 'Enter') startExperience();
});

window.addEventListener(isTouchDevice ? 'touchstart' : 'click', startExperience, { once: true });

document.addEventListener('gesturestart', function(e) {
  e.preventDefault();
});

let lastTouchEnd = 0;
document.addEventListener('touchend', function(event) {
  const now = (new Date()).getTime();
  if (now - lastTouchEnd <= 300) {
    event.preventDefault();
  }
  lastTouchEnd = now;
}, false);

window.addEventListener('resize', () => {
  createFlowingText();
  createBloodDrops();
});

// ========== INITIALIZE ==========
createFlowingText();
createBloodDrops();
</script>

</body>
</html>
